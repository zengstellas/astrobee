<!-- HTML header for doxygen 1.9.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NASA Astrobee Robot Software: Graph Bag</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.png" type="image/png" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="freeflyer.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 70px;">
  <td id="projectlogo"><img alt="Logo" src="astrobee-logo.png" height="100"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NASA Astrobee Robot Software
   &#160;<span id="projectnumber">0.15.2</span>
   </div>
   <div id="projectbrief">Flight software for the Astrobee robot operating inside the International Space Station.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('graphbag.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Graph Bag </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md530"></a>
Package Overview</h1>
<p>The graph bag package provides several tools for measuring localization performance as described below.</p>
<h1><a class="anchor" id="autotoc_md531"></a>
Tools</h1>
<h2><a class="anchor" id="autotoc_md532"></a>
GraphBag</h2>
<p>Graph bag simulates localization using a saved bagfile. Rather than relying on rosbag play, it loads measurements directly and greatly decreases runtime. To accurately simulate measurement delays and drops, the LiveMeasurementSimulator class is provided along with a config file to provide delays and minimum spacing between measurements. Graph bag saves results to a new bag file that can be processed by the plot_results_main.py script into a pdf showing information such as poses estiamtes, velocity estimates, bias estiates, covariances, and more.</p>
<h2><a class="anchor" id="autotoc_md533"></a>
BagImuFilterer</h2>
<p>The bag imu filterer enables the testing of imu filters written in c++. It parses a bag file and loads a c++ imu filter, then saves the filtered data to a new bag file. The filtered data can be plotted and analyzed by the imu_analyzer script.</p>
<h1><a class="anchor" id="autotoc_md534"></a>
Scripts</h1>
<h2><a class="anchor" id="autotoc_md535"></a>
bag_sweep</h2>
<p>The bag sweep tool runs the graph bag tool in parallel on multiple bag files. It takes config file with bagnames, map names, and robot configs and produces pdfs and result bagfiles for each entry. Example config file: <br  />
 </p><div class="fragment"><div class="line">/home/bag_name.bag /home/map_name.map /mgt/img_sampler/nav_cam/image_record /home/astrobee/astrobee config/robots/bumble.config iss false  </div>
<div class="line">/home/bag_name_2.bag /home/map_name.map /mgt/img_sampler/nav_cam/image_record /home/astrobee/astrobee config/robots/bumble.config iss false</div>
</div><!-- fragment --><p>Example bag sweep command: <br  />
 </p><div class="fragment"><div class="line">rosrun graph_bag bag_sweep.py /home/bag_sweep_config.csv /home/output_dir</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md536"></a>
check_bags_for_gaps</h2>
<p>This is a simple tool to check for large gaps in imu or image data in a bagfile.</p>
<h2><a class="anchor" id="autotoc_md537"></a>
imu_analyzer_main</h2>
<p>The imu analyzer tool plots imu data and also filtered imu data. It can use python filtering tools to lowpass filter imu data at a certain cutoff frequency, or it can use a provided bag file with filtered imu data and compare this against a bag file with unfiltered data. Data is plotted in its raw form and also after being passed through an FFT to show its frequency response.</p>
<h2><a class="anchor" id="autotoc_md538"></a>
merge_bags</h2>
<p>Merge bags looks for bag files in the current directory with a provided name prefix and merges these into a single bag file. Bags are assumed to be numbered and are merged in numerical order.</p>
<h2><a class="anchor" id="autotoc_md539"></a>
run_graph_bag_and_plot_results</h2>
<p>Generates localization results for a provided bagfile. See 'rosrun <a class="el" href="namespacegraph__bag.html">graph_bag</a> run_graph_bag_and_plot_results.py -h' for further details and usage instructions.</p>
<h2><a class="anchor" id="autotoc_md540"></a>
make_groundtruth.py</h2>
<p>Generates groundtruth map and bagfile for a given bagfile. See 'rosrun <a class="el" href="namespacegraph__bag.html">graph_bag</a> make_groundtruth.py -h' for further details and usage instructions.</p>
<h2><a class="anchor" id="autotoc_md541"></a>
make_groundtruth_map.py</h2>
<p>Generates groundtruth map for a given bagfile. See 'rosrun <a class="el" href="namespacegraph__bag.html">graph_bag</a> make_groundtruth.py -h' for further details and usage instructions.</p>
<h2><a class="anchor" id="autotoc_md542"></a>
groundtruth_sweep.py</h2>
<p>Creates groundtruth in parallel for a set of bagfiles. See 'rosrun <a class="el" href="namespacegraph__bag.html">graph_bag</a> groundtruth_sweep.py -h' for further details and usage instructions. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.0-->
<!-- start footer part -->
</body>
</html>
